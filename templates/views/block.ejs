<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blocked!</title>
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap" rel="stylesheet"> 
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            font-family: 'Ubuntu', sans-serif;
        }
        /*Navigation Bar */

.login-btn
{
    background: #626ee3;
}
.login-btn:hover
{
    background-color:#8993f0;
}
.navbar
{
    background-color:#111618 !important;
    transition: background-color 0.3s ease;
}

        .blocked-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .blocked-message {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 20px;
        }
        .help-link {
            font-size: 18px;
        }
        /*Footer */

footer{
    background-color: #111618 ;
    overflow: hidden;
}
ul{
    list-style: none;
}
ul li{
    padding: 3px;
}

    </style>
    <style>
      /* Style for the modal */
      .modal {
          display: none; 
          position: fixed; 
          z-index: 1; 
          left: 0;
          top: 0;
          width: 100%; 
          height: 100%; 
          overflow: auto; 
          background-color: rgb(0,0,0); 
          background-color: rgba(0,0,0,0.4); 
          padding-top: 60px; 
      }

      .modal-content {
          background-color: #fefefe;
          margin: 5% auto; 
          padding: 20px;
          border: 1px solid #888;
          width: 80%; 
      }

      .close {
          color: #aaa;
          float: right;
          font-size: 28px;
          font-weight: bold;
      }

      .close:hover,
      .close:focus {
          color: black;
          text-decoration: none;
          cursor: pointer;
      }

      /* Style for the input and button */
      #popupText {
          width: 100%;
          padding: 10px;
          margin: 10px 0;
          box-sizing: border-box;
      }

      #submitButton {
          background-color: #4CAF50;
          color: white;
          padding: 10px 20px;
          border: none;
          cursor: pointer;
      }

      #submitButton:hover {
          background-color: #45a049;
      }
  </style>
</head>
<body>

    <!--Navigation Bar-->
 

    <div class="blocked-container">
        <div class="blocked-message">Your account is blocked !!ðŸ˜”ðŸ˜”</div>
        <button class="btn-primary" id="myBtn">Request for unblock</button>
        </div>

<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <textarea id="popupText" placeholder="Write your text here..."></textarea>
    <input type="hidden" id="email" value="<%= mail %>">
    <button id="submitButton">Request</button>
  </div>

</div>

<script>
// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

// When the user clicks the submit button, handle the submission
document.getElementById("submitButton").onclick = async function() {
  var text = document.getElementById("popupText").value;
  const mail = document.getElementById("email").value;
  console.log(mail)
  fetch(`/request?text=${text}&mail=${mail}`)
  .then((response) => response.json())
    .then(window.location.href = '/')
  alert("You submitted: " + text);
  modal.style.display = "none";
  // Add any additional code for handling the submitted text here
}
</script>


    <!--Footer-->

  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
